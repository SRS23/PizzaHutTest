package utilities;
import com.aventstack.extentreports.ExtentReports;
import com.aventstack.extentreports.ExtentTest;
import com.aventstack.extentreports.Status;
import com.aventstack.extentreports.markuputils.ExtentColor;
import com.aventstack.extentreports.markuputils.MarkupHelper;
import com.aventstack.extentreports.reporter.ExtentSparkReporter;

import junit.framework.AssertionFailedError;
import junit.framework.Test;
import stepDefinitions.StepDefinitions;

import java.io.IOException;

import org.junit.jupiter.api.extension.ExtensionContext;
import org.junit.jupiter.api.extension.TestWatcher;
import org.junit.jupiter.api.extension.ExtensionContext.Namespace;

public class TestListener extends CommonFunctions implements junit.framework.TestListener {
 
                             
    CommonFunctions cfs = new CommonFunctions();

	@Override
	public void addError(Test test, Throwable e) {
		// TODO Auto-generated method stub
		try {
			cfs.takeScreenShot();
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
	}

	@Override
	public void addFailure(Test test, AssertionFailedError e) {
		// TODO Auto-generated method stub
		try {
			cfs.takeScreenShot();
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
	}

	@Override
	public void endTest(Test test) {
		// TODO Auto-generated method stub
		try {
			cfs.takeScreenShot();
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
	}

	@Override
	public void startTest(Test test) {
		// TODO Auto-generated method stub
		try {
			cfs.takeScreenShot();
		} catch (IOException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
	}
    
  }

